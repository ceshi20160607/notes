(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{416:function(s,n,t){"use strict";t.r(n);var a=t(1),e=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"es-日常"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#es-日常"}},[s._v("#")]),s._v(" es 日常")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-- 在opt目录下安装")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-- 下载elasticsearch6.8.6")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://file.72crm.com/static/elasticsearch-6.8.6.zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-- 下载analysis-icu-6.8.6分词器插件")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://file.72crm.com/static/analysis-icu-6.8.6.zip"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--下载unzip")]),s._v("\n  yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--解压刚才下载的elasticsearch")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" elasticsearch-6.8.6.zip\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--将分词器插件解压到elasticsearch/plugins目录下")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" analysis-icu-6.8.6.zip -d elasticsearch-6.8.6/plugins/analysis-icu-6.8.6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--创建elasticsearch用户")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" elasticsearch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--赋予用户目录权限")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R elasticsearch:elasticsearch elasticsearch-6.8.6"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--切换至elasticsearch用户")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" elasticsearch\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--启动")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" elasticsearch-6.8.6/bin\n  ./elasticsearch -d\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--退出elasticsearch用户")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h1",{attrs:{id:"异常问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#异常问题"}},[s._v("#")]),s._v(" 异常问题")]),s._v(" "),n("h2",{attrs:{id:"修改es中查询数据最大量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改es中查询数据最大量"}},[s._v("#")]),s._v(" 修改es中查询数据最大量")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#es中默认的查询的最大数据量是10000")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在某些情况或者客户数据量很大情况下需要查询》1w数据需要修改")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_business/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_contacts/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_contract/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_customer/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_lb_acitvity/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_lb_class/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_lb_class_time_record/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_lb_deposit/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_lb_transaction_record/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_leads/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_product/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_receivables/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -X PUT "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://localhost:9200/wk_single_return_visit/_settings"')]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Content-Type: application/json'")]),s._v(" -d"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"index":{"max_result_window":1000000}}\'')]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);